"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[86695],{639920:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",e.exports=n},150148:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="09058e2c22f768d113516b357e48e9cd",e.exports=n},241244:(e,t,n)=>{n.d(t,{N:()=>s,Z:()=>a});var l=n(883119),i=n(785893);function a({children:e,fullWidth:t}){return(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return t?(0,i.jsx)(a,{children:e}):e}},221263:(e,t,n)=>{n.d(t,{Z:()=>l});function l(e,t){return e.isAuth&&t===e.id}},937330:(e,t,n)=>{n.d(t,{Z:()=>l});function l(e,t){return!!(t.isAuth&&e)}},4294:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(221263),i=n(937330);function a(e,t,n){return(0,l.Z)(n,t)||(0,i.Z)(e,n)}},444445:(e,t,n)=>{n.d(t,{$H:()=>s,$q:()=>f,D6:()=>d,KN:()=>b,Lo:()=>i,P2:()=>p,Wv:()=>y,ZZ:()=>u,g5:()=>h,jC:()=>r,lX:()=>g,nW:()=>_,oX:()=>x,qG:()=>m,tG:()=>a,yF:()=>l,yc:()=>c,yt:()=>o});let l=236,i=2*l/3,a=175,s=24,r=4,o=8,d=2,c=2,u=14,h=16,_=12,g=16,p=24,x=16,m=-1,f=(e=!1,t=!1)=>e?t?g:_:p,y=({contentVisibleItemCount:e,gap:t,width:n})=>e||n?(n-(e-1)*t)/e:l,b=(e,t,n,l,i=u)=>{let a=e+i,s=`
@media (min-width: ${t*a}px) and (max-width: ${(n+1)*a-1}px) {
  ${l}
}
`;return s}},329734:(e,t,n)=>{n.d(t,{P:()=>a,Z:()=>i});var l=n(702664);function i(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){let e=(0,l.useSelector)(({experiences:e})=>e);return!!e&&i(e)}},411938:(e,t,n)=>{n.d(t,{Z:()=>l});function l(e,t,n=28){let l;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;l=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let i=new Date,a=l?new Date(l):i;return a.setDate(a.getDate()+n),new Date().getTime()<a.getTime()}},750391:(e,t,n)=>{n.d(t,{G7:()=>d,Nl:()=>u,WE:()=>o,l6:()=>c,rh:()=>r});var l=n(27255),i=n(451820),a=n(66699);let s=e=>e.checkExperiment("web_ps4p").anyEnabled;function r(e,t,n,i,a){if(!t.isAuth)return!1;let{creatorAnalytics:r}=e,o=!!e.storyPinDataId,d=!!e.videos?.videoList,c=(a||!(o||d))&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,u=e.board?.privacy===l.Z.BoardPrivacy.PUBLIC,h=e.board?.privacy===l.Z.BoardPrivacy.PROTECTED,_=(h||u)&&!e.isRepin&&[t.id,i].includes(e.pinner?.entityId);return c||0!==Object.keys(r?._30dRealtime||{}).length||t.isPartner&&_||s(n)&&o&&_}function o(e,t,n,l,i,a){return e.isAuth&&!!t&&(n||l)&&!!i?.isLoaded&&!a}function d(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function c(e,t){return(0,a.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u({i18n:e,isRealtime:t,humanizedTimeSinceLastUpdate:n,displayLifetime:l,numDays:s,selectedDateRange:r,locale:o}){let d=[];if(s){let t=l?(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s,startDate:(0,i.Z)(o,r.startDate,i.k.NUMERIC),endDate:(0,i.Z)(o,r.endDate,i.k.NUMERIC)}):(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s});d.push(t)}return t?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):n&&d.push((0,a.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:n})),d.join(" ")}},681227:(e,t,n)=>{function l(e){let t=Object.keys(e);if(t.length>0){let n=t.sort((t,n)=>e[n]-e[t]).slice(0,3);return n}return null}function i(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function a(e,t,n){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!t&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!n}n.d(t,{At:()=>l,J6:()=>a,Ud:()=>i})},53325:(e,t,n)=>{n.d(t,{GZ:()=>l,OE:()=>i,zX:()=>a});let l=246,i=197,a=236},124364:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(883119),i=n(898781),a=n(785893);function s({height:e,isDenseView:t,rounding:n,width:s,color:r}){let o=(0,i.ZP)();return(0,a.jsx)(l.xu,{alignItems:"center",color:r||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:n,width:s,children:(0,a.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,a.jsx)(l.xu,{paddingY:t?2:4,children:(0,a.jsx)(l.JO,{accessibilityLabel:o._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(l.xv,{weight:"bold",children:o._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,a.jsx)(l.xu,{paddingY:1,children:(0,a.jsx)(l.xv,{children:o._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},46584:(e,t,n)=>{n.d(t,{Z:()=>c});var l=n(667294);let i=new Map,a=null,s=e=>{e.forEach(e=>{let t=i.get(e.target);t&&t(e)})},r=e=>{a.unobserve(e),i.delete(e)},o=(e,t="-64px 0px 0px 0px",n)=>{let l={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(s,l),i.set(e,n),a.observe(e)},d=e=>i.has(e);function c({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:a}){let s=(0,l.useRef)(null),c=!1,u=t=>{let n=t.intersectionRatio>0||t.isIntersecting;(c=n)&&e(!0)},h=()=>{s.current instanceof HTMLElement&&d(s.current)&&c&&(e(!1),c=!1)},_=(0,l.useCallback)(e=>{s.current instanceof HTMLElement&&o(s.current,e,e=>{if(!i.has(s.current))return;let l=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=n?e.intersectionRatio>=1:l,r=n?0===e.intersectionRatio:!a;!c&&a?u(e):c&&r&&h()})},[s.current]);return(0,l.useEffect)(()=>(_(a),()=>{s.current instanceof HTMLElement&&(h(),r(s.current))}),[_]),s}},841509:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(883119),i=n(785893);function a({children:e,additionalStyles:t={}}){return(0,i.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},674462:(e,t,n)=>{n.d(t,{Z:()=>k});var l,i=n(667294);n(167912);var a=n(616550),s=n(883119),r=n(319915),o=n(916117),d=n(241244),c=n(947599),u=n(215292),h=n(19121),_=n(785893);let g=({signal:e,anchor:t,setShowFlyout:n,setStore:l})=>{let{hovered:i,onMouseEnter:a,onMouseLeave:r}=(0,u.Z)(),o=e=>{n(e=>!e),l(e)};return(0,_.jsx)(s.iP,{onMouseEnter:a,onMouseLeave:r,onTap:()=>o(e),rounding:"pill",children:(0,_.jsxs)(s.xu,{ref:t,alignItems:"center",color:i?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,_.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,_.jsx)(s.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,_.jsx)(s.Ee,{alt:"",color:e.backgroundColor??"",naturalHeight:1,naturalWidth:1,src:e.iconUrl??""})})}),(0,_.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var p=n(186656),x=n(898781),m=n(343341),f=n(499128);function y(e){let t=(0,x.ZP)(),{onHide:n}=e,l=(0,_.jsx)(s.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,_.jsx)(f.ZP,{onHide:n,text:l})}let b=function({anchor:e,onDismiss:t,pinId:n,signal:l}){let i=(0,x.ZP)(),a=(0,h.Z)(),{showOneToast:r}=(0,m.F9)();if(!a.isEmployee)return null;let{backgroundColor:o,iconUrl:d,signalId:c,signalMessage:u}=l;return(0,_.jsx)(s.mh,{children:(0,_.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,_.jsxs)(s.xu,{padding:4,width:"100%",children:[(0,_.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(s.X6,{size:"400",children:i._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,_.jsx)(s.xu,{paddingY:3,children:(0,_.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,_.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,_.jsx)(s.Ee,{alt:i._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o??""}},height:40,width:40})}),(0,_.jsx)(s.xv,{size:"200",children:u})]})}),(0,_.jsx)(s.xu,{marginBottom:3,children:(0,_.jsx)(s.xv,{size:"200",children:i._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,_.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,_.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:c,user:a.id}}),t(),r(({hideToast:e})=>(0,_.jsx)(y,{onHide:e}))},size:"md",text:i._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,_.jsx)(s.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:i._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function v({signals:e,pinId:t}){let[n,l]=(0,i.useState)(!1),a=(0,i.useRef)(null),[o,u]=(0,i.useState)(e[0]);return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,_.jsx)(c.Z,{children:(0,_.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,_.jsx)(d.Z,{children:(0,_.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,_.jsx)(s.xu,{marginEnd:2,children:(0,_.jsx)(g,{anchor:a,setShowFlyout:l,setStore:u,signal:e})},e.signalId))})})})})}),n&&(0,_.jsx)(b,{anchor:a.current,onDismiss:()=>l(!1),pinId:t,signal:o})]})}let j=function({anchor:e,onDismiss:t,pinId:n,signals:l}){let a=(0,x.ZP)(),[r,o]=(0,i.useState)(0),d=(0,h.Z)(),{showOneToast:c}=(0,m.F9)();if(!d.isEmployee)return null;let u=l.map(({signalMessage:e})=>({href:"#",text:e??""})),{backgroundColor:g,iconUrl:f,signalId:b,signalMessage:v}=l[r],j=({activeTabIndex:e})=>{o(e)};return(0,_.jsx)(s.mh,{children:(0,_.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,_.jsxs)(s.xu,{padding:4,width:"100%",children:[l.length>1&&(0,_.jsx)(s.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,_.jsx)(s.mQ,{activeTabIndex:r,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{e.preventDefault(),n(),j({activeTabIndex:t})},tabs:u})}),(0,_.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(s.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,_.jsx)(s.xu,{paddingY:3,children:(0,_.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,_.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,_.jsx)(s.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g??""}},height:40,width:40})}),(0,_.jsx)(s.xv,{size:"200",children:v})]})}),(0,_.jsx)(s.xu,{marginBottom:3,children:(0,_.jsx)(s.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,_.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,_.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:b,user:d.id}}),t(),c(({hideToast:e})=>(0,_.jsx)(y,{onHide:e}))},size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,_.jsx)(s.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})},P=void 0!==l?l:l=n(639920);function w({signals:e,pinId:t}){let{backgroundColor:n,iconUrl:l,signalMessage:a}=e[0],[o,h]=(0,i.useState)(!1),g=(0,i.useRef)();return(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,_.jsx)(c.Z,{children:(0,_.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,_.jsx)(d.Z,{children:(0,_.jsx)(u.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,_.jsx)(s.iP,{onMouseEnter:t,onMouseLeave:i,onTap:()=>h(e=>!e),rounding:"pill",children:(0,_.jsxs)(s.xu,{ref:g,alignItems:"center",color:e?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,_.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,_.jsx)(s.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,_.jsx)(s.Ee,{alt:"",color:n??"",naturalHeight:1,naturalWidth:1,src:l??""})})}),(0,_.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),o&&g&&g.current&&(0,_.jsx)(j,{anchor:g.current,onDismiss:()=>h(!1),pinId:t,signals:e})]})}function k({pinKey:e}){let t=(0,o.Z)(P,e),n=(0,h.Z)(),{search:l}=(0,a.TH)(),s=(0,i.useMemo)(()=>new URLSearchParams(l),[l]);if(!n.isEmployee)return null;let{entityId:r,debAds:d,debContentQuality:c,debInclusiveProduct:u,debShopping:g,debTrustAndSafety:p}=t;if(d)return(0,_.jsx)(w,{pinId:r,signals:d});if(c)return(0,_.jsx)(w,{pinId:r,signals:c});if(u){if("skin_tone"===s.get("type")){let e=u.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,_.jsx)(v,{pinId:r,signals:e})}{let e=u.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,_.jsx)(v,{pinId:r,signals:e})}}return g?(0,_.jsx)(w,{pinId:r,signals:g}):p?(0,_.jsx)(w,{pinId:r,signals:p}):null}},43671:(e,t,n)=>{n.d(t,{ZP:()=>m});var l=n(667294),i=n(702664),a=n(883119),s=n(407043),r=n(898781),o=n(55275),d=n(680046),c=n(310227),u=n(841509),h=n(447948),_=n(785893);let g={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:c.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],x=["pfy","pfyBoard"];function m({feedbackType:e,pin:t,hideContents:n=!1}){let m;let{logContextEvent:f}=(0,s.v)(),y=(0,r.ZP)(),[b,v]=(0,l.useState)(!1),[j,P]=(0,l.useState)(!1),w=(0,i.useDispatch)();(0,l.useEffect)(()=>v(!0),[]);let k=()=>P(!0),{id:z,feedbackText:A,images:D,showFeedbackOverlay:S}=t,I=D&&D["236x"]?.url,{subTitle:Z,title:C,unfollow:R,undoCallbackProps:T}=A??{},B=!p.includes(e),F=x.includes(e);if(T){let{action:e,actionOptions:n,viewType:l,viewParameter:i}=T;m=(0,d.EF)(n,e,z,l,i,e=>w((0,h.I1)({id:e,nodeId:t.node_id})),f)}return(0,_.jsxs)(a.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},"data-test-id":"obscured-overlay",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(0,_.jsxs)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderRadius:c.Oc}},left:!0,margin:-4,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[I&&(0,_.jsx)(u.Z,{additionalStyles:{...g.background.base,...b?g.background.blurred:{},backgroundImage:`url("${I}")`}}),(0,_.jsx)(u.Z,{additionalStyles:{...g.backdrop.base,...g.backdrop.blurred}})]}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...g.feedbackOverlayContainer.base,...!S&&b?g.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,_.jsx)(a.xu,{height:"100%",children:(0,_.jsxs)(a.xu,{"data-test-id":"PinFeedbackConfirmation",direction:"column",display:"flex",height:"100%",maxWidth:216,children:[(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsx)(a.X6,{color:"light",size:"400",children:C})}),(0,_.jsx)(a.xu,{display:"flex",marginBottom:1,children:(0,_.jsx)(a.xv,{color:"light",overflow:"normal",children:Z})}),(0,_.jsxs)(l.Fragment,{children:[m&&"Reported"!==C&&(0,_.jsx)(a.xu,{"data-test-id":"undo-action-btn",children:(0,_.jsx)(a.iP,{onTap:m,children:(0,_.jsx)(a.xv,{color:"inverse",overflow:"normal",weight:"bold",children:y._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,_.jsxs)(a.xu,{marginTop:"auto",children:[!m&&!j&&R&&!F&&(0,_.jsx)(a.zx,{color:"white",fullWidth:!0,onClick:()=>(0,o.t)(R.action,R.actionOptions,k,f),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),B&&(0,_.jsx)(a.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:()=>{f({event_type:101,view_type:1,view_parameter:92,element:11347})},text:y._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},740025:(e,t,n)=>{n.d(t,{Z:()=>r}),n(422578);var l,i=n(916117),a=n(680046);let s=void 0!==l?l:l=n(150148);function r({pinKey:e,feedbackType:t,viewParameter:n}){let l=(0,i.Z)(s,e);return function({feedbackType:e,viewParameter:t,boardFollowedByMe:n,hasPromoter:l,isDownstreamPromotion:i,pinnerFollowedByMe:s,hasRecommendationReason:r,recommendationReasonHasBoard:o,recommendationReasonReason:d}){return(0,a.hP)({boardFollowedByMe:n,feedbackType:e,promotion:l?{isDownstreamPromotion:i}:void 0,pinnerFollowedByMe:s,recommendationReason:r?{hasBoard:o,reason:d}:void 0,viewParameter:t})}({feedbackType:t,viewParameter:n,boardFollowedByMe:!!l?.board?.followedByMe,hasPromoter:!!l?.promoter,isDownstreamPromotion:!!l?.isDownstreamPromotion,pinnerFollowedByMe:!!l?.pinner?.explicitlyFollowedByMe,hasRecommendationReason:!!l?.recommendationReason,recommendationReasonReason:l?.recommendationReason?.reason??void 0,recommendationReasonHasBoard:!!l?.recommendationReason?.board})}},202870:(e,t,n)=>{n.d(t,{Z:()=>d,j:()=>o});var l=n(883119),i=n(898781),a=n(349700),s=n(773285),r=n(785893);let o=[0,2,3];function d({hasAffiliateProducts:e,href:t,isPromoted:n,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:u,sponsorshipStatus:h,textWeight:_="bold"}){let g;let p=(0,i.ZP)(),x=(0,s.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,m=(0,s.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,f=t||(u?`/${u}/`:null),y=f&&c?(0,r.jsx)(l.rU,{href:f,onClick:d,children:(0,r.jsx)(l.xv,{size:"200",weight:_,children:c})},c):void 0;return n?g=(0,a.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:y}):h||0===h?c&&!o.includes(h)?g=(0,a.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:y}):m&&2===h||(g=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(g=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,r.jsxs)(l.xv,{inline:!0,lineClamp:2,size:"200",children:[x&&!n&&"Ad • "||"",g]})}},436395:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(616550),i=n(784590);function a(){let{username:e}=(0,l.UO)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86695-d982ea1f535daa4e.mjs.map