"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[97750],{803491:(e,o,t)=>{t.d(o,{Z:()=>n,m:()=>s});var l=t(40432),i=t(785893);let s=`
.red.active:focus,
.red.active:hover {
  background-color: #d50c22 !important;
}
.lightGrey.active:focus,
.lightGrey.active:hover {
  background-color: #f5f3f3 !important;
}
.SignupButton:focus {
  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);
  outline: 0;
}
`;function n({accessibilityLabel:e,children:o,className:t,dataTestId:s,disabled:n,href:a,id:r,noButtonStyles:c,onClick:d,styleOverrides:_,tabIndex:g,type:h}){let u=(t?t.split(" "):[]).concat(n?[]:["active"]),p=c?{background:"none",border:"none",padding:"0",textAlign:"left",display:"block"}:{border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center",...n&&{backgroundColor:"#efefef",color:"#767676"}||u.includes("red")&&{backgroundColor:l.x_d,color:"#fff"}||u.includes("lightGrey")&&{backgroundColor:"#ebebeb",color:"#444"}};return p={...p,..._},n&&(p={...p,cursor:"not-allowed"}),(0,i.jsx)("button",{"aria-label":e||"",className:u.join(" "),"data-test-id":s,disabled:n,href:a,id:r,onClick:d,...g?{tabIndex:g}:{},style:p,type:h||"button",children:o})}},480857:(e,o,t)=>{t.d(o,{Z:()=>_});var l=t(667294),i=t(883119),s=t(803491),n=t(174382),a=t(640672),r=t(898781),c=t(472644),d=t(785893);function _(e){let o=(0,r.ZP)(),{tooltip:t,onClick:_,isGoogleSocialConnect:g}=e,[h,u]=(0,l.useState)();return(0,d.jsxs)(i.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,d.jsx)(s.Z,{onClick:_?_():()=>u(!0),styleOverrides:g?{width:"100%",height:"44px",backgroundColor:"#FFFFFF",borderRadius:"20px",border:"1px solid #E3E5E8"}:{width:"100%",borderRadius:"20px",border:"0px solid"},type:"button",children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(i.xu,{height:24,marginTop:1,width:24,children:(0,d.jsx)(c.Z,{size:20})}),(0,d.jsx)(i.xu,{marginStart:2,children:(0,d.jsx)(i.xv,{weight:"bold",children:g?o._('Link account to Google', 'googleSocialConnectButtonWithDisabledSDK.buttonText', 'Link account to Google button text'):o._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),!!t&&(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},position:"absolute",children:(0,d.jsx)(a.Z,{message:t})}),h&&(0,d.jsx)(n.Z,{onDismiss:()=>u(!1),type:"google"})]})}},174382:(e,o,t)=>{t.d(o,{Z:()=>a});var l=t(883119),i=t(121151),s=t(898781),n=t(785893);function a({type:e,onDismiss:o}){let t=(0,s.ZP)(),a="facebook"===e?t._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):t._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),r="facebook"===e?t._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):t._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,n.jsx)(i.ZP,{accessibilityModalLabel:a,footer:(0,n.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(l.xu,{paddingX:1,children:(0,n.jsx)(l.zx,{color:"red",onClick:o,size:"md",text:t._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})}),heading:a,onDismiss:o,children:(0,n.jsx)(l.xu,{paddingX:5,children:(0,n.jsx)(l.xv,{align:"center",children:r})})})}},640672:(e,o,t)=>{t.d(o,{Z:()=>s,g:()=>i});var l=t(785893);let i=`
.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}
`;function s({message:e,color:o}){return(0,l.jsx)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px"},children:(0,l.jsx)("div",{className:"Tooltip_message",style:{background:o||"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:o?"#fff":"#000",fontStyle:"normal",fontWeight:"normal",fontSize:o?"14px":"",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:e},style:{overflowWrap:"break-word",wordWrap:"break-word"}})})})}},472644:(e,o,t)=>{t.d(o,{Z:()=>i});var l=t(785893);function i({size:e}){return(0,l.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,l.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,l.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,l.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,l.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,l.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},177471:(e,o,t)=>{t.d(o,{k:()=>j});var l=t(667294),i=t(702664),s=t(214494),n=t(186656);let a=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"],r=(e,o,t)=>{let l;switch(e){case"facebook":let{facebookToken:i}=t;l=o?{facebook_id:o.id,facebook_token:i}:Object.freeze({});break;case"gplus":l=o?{one_time_code:o.one_time_code,redirect_uri:o.redirect_uri||void 0}:Object.freeze({});break;case"line":l=o?{line_id_token:o.line_id_token,line_access_token:o.line_access_token}:Object.freeze({});break;default:l=Object.freeze({})}return l};var c=t(124237),d=t(402201),_=t(572752),g=t(553171),h=t(83969),u=t(966113),p=t(867820);async function m(e,o){await (0,h.Px)(void 0,o||void 0);let t=window.google?.accounts?.oauth2;if(t){let o=t.initCodeClient({client_id:u.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e});o.requestCode()}}let x=Object.freeze({}),f=e=>{let{network:o}=e;if(!x[o])return;let{[o]:{error:t,success:l,complete:i},...s}=x;x={...s},"error"===e.type?t?.(Object.freeze({message:"Please do not close the window when claiming your account!"})):l("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),i?.()},b=e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,d.Z)({width:580,height:580});case"etsy":return(0,d.Z)({width:580,height:775});case"youtube":return(0,d.Z)({width:605,height:640});default:return(0,d.Z)()}},w=({i18n:e,network:o,callbacks:t,requestContext:l})=>{if(t={error:()=>{},complete:()=>{},...t},(0,p.My)(`auth_web.social_connect.${o}.${(0,_.Z)(l)}`),"gplus"===o||"google"===o)(0,p.My)("auth_web.social_connect.google.migration"),m(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})},l.language);else if("line"===o){let{locale:e}=l;(0,g.Z)(e,t)}else{let l=window.open("/connect/"+o+"/","",b(o));if(!l){c.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),t.error&&t.error(Object.freeze({}));return}x={...x,[o]:t}}};window.addEventListener("message",e=>{let o=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==o)return;let t=e.data;if(t&&"social-connect-complete"===t.type){let o=e.data;o.network&&f(o)}});var k=t(780280),y=t(414327),v=t(19121);class z{constructor({invalidateResource:e,requestContext:o,viewer:t}){this.getUserId=()=>t.isAuth?t.id:"",this.getUsername=()=>t.isAuth?t.username:"",this.isLimitedLogin=()=>t.isLimitedLogin,this.invalidateResource=e,this.requestContext=o}handleConnect(e,o,t,l){let i=o=>{("connect"===o.type?function({network:e,data:o,requestContext:t}){if(a.includes(e))return s.Z.create("UserSocialNetworkResource",{network:e,data:o}).callCreate();let l=`/v3/connect/${e}/`,i=r(e,o,t);return(0,n.Z)({url:l,method:"PUT",data:i})}({network:e,data:o.data,requestContext:this.requestContext}):(0,n.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then(e=>{let o={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",o),s.Z.create("UserResource",o).callGet(),t.success?.(e)},e=>{e&&"object"==typeof e&&t.error?.({api_error_code:e.api_error_code,code:e.code,message:e.message})}).finally(()=>{t.complete?.()})};o?this.isLimitedLogin()?i({type:"connect"}):w({network:e,callbacks:{success:e=>i({type:"connect",data:e}),error:t.error,complete:t.complete},i18n:l,requestContext:this.requestContext}):i({type:"disconnect"})}}function j(){let e=(0,i.useDispatch)(),o=(0,k.B)(),t=(0,v.Z)(),s=(0,l.useMemo)(()=>new z({invalidateResource:(o,t)=>e((0,y.jB)(o,t)),requestContext:o,viewer:t}),[e,o,t]);return s}},553171:(e,o,t)=>{t.d(o,{Z:()=>u});var l=t(464232),i=t(231486),s=t(226198),n=t(844974),a=t(966113),r=t(826067),c=t(643913);let d="undefined"!=typeof window,_=d?`${window.location.origin}/oauth/line/redirect`:"",g=({origin:e,data:o})=>o&&e===window.location.origin?String(o):null,h=({url:e,key:o})=>{if(!e.startsWith(window.location.origin)||o!==l.MM)return null;let t=(0,n.qn)(l.MM);return(0,n.L_)(l.MM),t};function u(e,o){let t;if(!d){o.error?.({message:"Window is undefined"});return}let l=function(e=5){let o="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>o[Math.floor(Math.random()*o.length)]).join("")}(10),n=async e=>{if(!e.isTrusted)return;let a=e instanceof MessageEvent?g(e):h(e),d=(0,r.mB)(a);if(d.state&&d.code&&d.state===l){t&&!t.closed&&t.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(i.U2(s.fS))}`},method:"POST",body:(0,c.Z)({code:d.code,redirect_uri:_})}),t=await e.json(),{id_token:l,access_token:n}=t;l&&n?o.success({line_id_token:l,line_access_token:n}):o.error?.({message:"No tokens returned"})}catch(e){o.error?.(e)}finally{t&&!t.closed&&t.close(),window.removeEventListener("message",n),window.removeEventListener("storage",n),o.complete?.()}}};window.addEventListener("message",n),window.addEventListener("storage",n),t=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${a.zal}&redirect_uri=${encodeURIComponent(_)}&state=${l}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},497750:(e,o,t)=>{t.r(o),t.d(o,{default:()=>b});var l=t(667294),i=t(883119),s=t(407043),n=t(480857),a=t(356997),r=t(499128),c=t(898781),d=t(349700),_=t(584595),g=t(177471),h=t(343341),u=t(829407),p=t(19121),m=t(563041),x=t(785893);let f=({children:e,displayOptions:o,i18n:t,handleDismiss:l,logContextEvent:s})=>{let{heading:n,subtext:r,isBlocking:c,isDesktop:d,setCurrentStep:_}=o;return(0,x.jsx)(i.mh,{children:(0,x.jsx)(a.u_,{accessibilityModalLabel:"Link Google Account Modal",align:"center",onDismiss:()=>{s({event_type:15392,component:14959,element:14305})},size:d?495:void 0,children:(0,x.jsxs)(i.xu,{alignItems:"center",color:c?"warningWeak":void 0,direction:"column",display:"flex",justifyContent:"center",marginTop:d?0:2,padding:d?6:8,children:[c?(0,x.jsx)(i.xu,{color:"warningWeak",padding:2}):(0,x.jsx)(i.xu,{alignContent:"start",display:"flex",justifyContent:d?"end":"start",marginBottom:4,marginStart:2,marginTop:d?0:-6,width:"100%",children:(0,x.jsx)(i.hU,{accessibilityLabel:t._('Dismiss modal button', 'dismiss button accessibilityLabel', 'accessibilityLabel.dismiss.link_modal'),bgColor:"white",icon:"cancel",onClick:()=>{s({event_type:15394,component:14959}),_("dismiss"),l()},size:"sm"})}),(0,x.jsx)(i.JO,{accessibilityLabel:t._('Icon on modal', 'Icon logo', 'Icon accessibility label'),color:c?"warning":"brandPrimary",icon:c?"workflow-status-warning":"pinterest",size:32}),(0,x.jsx)(i.xu,{marginBottom:3,paddingY:2}),(0,x.jsx)(i.X6,{size:"400",children:n}),(0,x.jsx)(i.xu,{marginTop:3,maxWidth:d?450:void 0,paddingY:2,children:(0,x.jsx)(i.xv,{align:"center",children:r})}),e]})})})};function b({handleComplete:e,handleDismiss:o,isDesktop:t,blockingHeader:a,blockingSubtext:b,emailUpdate:w,isBlocking:k}){let y=(0,c.ZP)(),{logContextEvent:v}=(0,s.v)(),{showToast:z}=(0,h.F9)(),j=(0,p.Z)(),[A,P]=(0,l.useState)("linkGoogle"),C=(0,g.k)();(0,u.Z)(()=>{v({event_type:15393,component:14959})});let L=({state:e,message:o})=>{z(({hideToast:t})=>(0,x.jsx)(r.ZP,{onHide:t,text:o,type:e}))};switch(A){case"linkGoogle":return(0,x.jsx)(f,{displayOptions:{isBlocking:k,isDesktop:t,setCurrentStep:P,heading:a??y._('Keep login easy', 'Heading for connect google modal', 'Googleconnect.link.modal.heading'),subtext:b??y._('Want seamless access to your Pinterest account? Link it to Google', 'Subtext for connect google modal', 'Googleconnect.link.modal.subtext')},handleDismiss:o,i18n:y,logContextEvent:v,children:(0,x.jsx)(i.xu,{height:"48px",marginBottom:8,paddingY:2,children:(0,x.jsx)(n.Z,{isGoogleSocialConnect:!0,onClick:()=>()=>{C.handleConnect("gplus",!0,{success:()=>{L({state:"success",message:y._('Google login saved!', 'Googleconnect.link.success.toast', 'toast for google link success on modal')}),v({event_type:15395,component:14959,element:208}),w?P("confirmEmail"):(P("dismiss"),e())},error:e=>{e&&e.api_error_code===_.pH?(L({state:"error",message:y._('That account\'s already in use. Try a different one.', 'Error text on google account already linked', 'google_link.already_in_use.error_toast')}),v({event_type:15397,component:14959,element:208,aux_data:{fail_reason:"google_dup"}})):e&&v({event_type:15397,component:14959,element:208,aux_data:{fail_reason:e.api_error_code}})},complete:()=>{}},y),v({event_type:15392,element:208,aux_data:{source:"link_google_flow"}})}})})});case"confirmEmail":return(0,x.jsx)(f,{displayOptions:{isBlocking:k,isDesktop:t,setCurrentStep:P,heading:y._('Confirm your email', 'Googleconnect.link.modal.confirm.email.heading', 'heading for google connect link account email step'),subtext:(0,d.nk)(y._('Do you want to use {{ userEmail }} as your Pinterest email?', 'Googleconnect.link.modal.confirm.email.subtext', 'subtext for google connect link account email step,userEmail:the email address of current user'),{userEmail:j.email??""})},handleDismiss:o,i18n:y,logContextEvent:v,children:(0,x.jsx)(i.xu,{paddingY:4,children:(0,x.jsxs)(i.kC,{gap:2,children:[(0,x.jsx)(i.zx,{onClick:()=>{P("editEmail"),v({event_type:15392,component:14959,element:126})},size:"lg",text:y._('No, update', 'button.text.link_google_flow', 'link google flow button text')}),(0,x.jsx)(i.zx,{color:"red",onClick:()=>{P("dismiss"),L({state:"success",message:y._('Email confirmed!', 'Googleconnect.link.modal.confirm.email.success.toast', 'toast for google connect link email success')}),v({event_type:15395,component:14959,element:76}),e()},size:"lg",text:y._('Yes', 'button2.text.link_google_flow', 'link google flow button2 text')})]})})});case"editEmail":return(0,x.jsx)(f,{displayOptions:{isBlocking:k,isDesktop:t,setCurrentStep:P,heading:y._('Update your email', 'Googleconnect.link.modal.email.heading', 'heading for google connect link account email step')},handleDismiss:o,i18n:y,logContextEvent:v,children:(0,x.jsx)(i.xu,{marginBottom:6,marginTop:-3,width:"100%",children:(0,x.jsx)(m.Z,{allowNoChange:!0,componentType:14959,showToastOnComplete:()=>{P("dismiss"),L({state:"success",message:y._('Email updated!', 'Googleconnect.link.modal.email.success.toast', 'toast for google connect link email success')}),e()}})})});default:return null}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97750-2c2fceba742f0d91.mjs.map